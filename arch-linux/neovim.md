# (neo)vim

## (neo)vim配置文件的位置

(neo)vim的配置文件默认没有创建，需要手动创建。

```
1. vim配置文件的位置在~/.vim目录下。.vim目录需要手动创建。在.vim目录下创建vimrc文件,vimrc就是vim的配置文件。

2. neovim配置文件的位置在~/.config/nvim目录下。nvim目录需要手动创建。在nvim目录下创建init.vim文件，init.vim就是neovim的配置文件。 
```

## 普通模式下的命令(未修改键位)

| 命令 | 描述                                    |
|------|-----------------------------------------|
| .    | 重复上一次的修改                        |
| *    | 可以查找出当前光标下的单词              |
| s    | 删除光标下的字符并进入插入模式          |
| b    | 把光标移动到单词的开头                  |
| f    | 查找指定字符并移动光标到该字符上        |
| ;    | 把光标移动到f命令查找结果的下一个字符上 |
| ,    | 把光标移动到f命令查找结果的上一个字符上 |
| u    | 撤销上一次的修改                        |
| c    | 修改操作符                              |
| d    | 删除操作符                              |
| y    | 复制到寄存器（操作符）                  |
| >    | 增加缩进                                |
| <    | 减少缩进                                |
| =    | 自动缩进                                |
| !    | 使用外部程序过滤{motion}所跨越的行      |
| g~   | 反转大小写                              |
| gu   | 转换为小写                              |
| gU   | 转换为大写                              |
| zz   | 把当前行显示在窗口正中间                |

## 使用技巧

未知:subustiute命令？

**Tips:1**

查找和替换

```
:%s/<要查找的单词>/<要替换的单词>/g //全部替换
```

**Tips:2**

将光标放在一个单词上，按下×就可以全部查找出公标下的单词

按下×nn会遍历所有匹配的项，再回到本次查找的起点

按下×会出现两个效果:

```
1. 光标会跳转到下一个匹配项上

2. 光标下所有相同的单词都会高亮显示（如果没有显示运行:set hls,也可以修改配置文件使高亮生效）
```

**Tips:3**

从进入插入模式退出插入模式可以看作一次修改，u命令可以撤销上一次的修改。所以可以通过退出插入模式来控制一次撤销的颗粒度

**Tips:4**

按b命令可以把光标移动到单词的开头，再按dw命令可以删除整个单词(正向删除)

按db命令可以删除从光标起始位置到单词开头的内容,然后在按x就可以删除该单词了(反向删除)

按daw命令可以删除整个单词

按dnw命令可以删除n个单词;按ndw同样也可以删除n个单词

按dap命令可以删除一整个段落

**Tips:5**

可以在命令前添加数字n表示执行n次命令

&lt; C-a &gt; 和 &lt; C-x &gt; 命令分别对数字执行加减操作。

```
1. 把光标移动到数字上，按下n &lt; C-a &gt; 会对当前数字进行加n操作;按下n &lt; C-x &gt; 会对当前数字进行减n操作。
```

**Tips:6**

操作符待决模式：按下操作符，等待动作命令的输入

进入操作符待决模式也可以按 &lt; Esc &gt; ,以退回普通模式

操作符+动作命令=操作

```
1. 按gUl命令可以把当前光标下的字符转换成大写

2. 按gUaw命令可以将当前单词转换成大写

3. 按gUap命令可以将一整个段落转换成大写

4. gu命令类似
```

**Tips:7**

读取文件

```
:r !cat <文件>
```

**Tips:8** 

以超级用户权限保存文件

```
:w !sudo tee % > /dev/null
```

## 命令行模式

在命令行模式下表示当前目录和当前文件名的方法

```
% : 当前完整的文件名

%:h : 文件名的头部，即文件目录

%:e : 扩展名
```

<++>

## 插入模式

| 按键操作      | 描述                       |
|---------------|----------------------------|
| &lt; C-h &gt; | 删除前一个字符（同退格键） |
| &lt; C-w &gt; | 删除前一个单词             |
| &lt; C-u &gt; | 删除至行首                 |

**返回普通模式**

| 按键操作      | 描述                |
|---------------|---------------------|
| &lt; Esc &gt; | 切换到普通模式      |
| &lt; C-[ &gt; | 切换到普通模式      |
| &lt; C-o &gt; | 切换到插入-普通模式 |


## 折叠

```
zf：创建折叠
zc：折叠
zC：折叠所在范围内所有嵌套的折叠点
zo：展开折叠
zO：展开所在范围内的所有嵌套的折叠点
zd：删除折叠
zD：递归删除光标下的折叠
zE：删除窗口里的所有折叠
```

## 标记

---

**创建标记**

m命令可以创建标记，可以使用a-z或A-Z中的任意一个字母作为标记名称

```
m+标记名称
```

**跳转标记**

'+标记名称就可以跳转的相应的标记

**列示标记**

利用:marks命令可以列出所有标记

**删除标记**

使用:delmarks 标记名称可以删除某个或多个标记;而:delmarks!命令，则会删除所有标记


## 插件

```
1. neoclide/coc.nvim
2. dhruvasagar/vim-table-mode
3. iamcco/markdown-preview.vim
4. honza/vim-snippet
5. junegunn/fzf.vim
```

### coc配置

安装依赖

```
1. python3
2. python-pip
3. nodejs
4. npm
```

**安装neovim python module**

```
pip install --user pynvim
pip3 install --user pynvim
```

不需要使用sudo命令

**安装neovim nodejs module**

```
sudo npm install -g neovim
```

### markdown-preview

---

**打开预览**

```
<LEADER>mp
```

**关闭预览**

```
<LEADER>ps
```

### vim-table-mode

---

**打开vim-table-mode**

```
<LEADER>tm
```

### vista.vim

---

**打开Vista**

```
<LEADER>vv
```

**打开Vista搜索**

```
<LEADER>vf
```

### fzf

---

**搜索文件**

```
<LEADER>ff
```

**搜索标记**

```
<LEADER>fm
```

**搜索Buffers**

```
<LEADER>fb
```

**搜索历史文件**

```
<LEADER>fh
```

**搜索历史命令**

```
<LEADER>sh
```

### netrw

---

**打开netrw**

```
<LEADER>nn 
```

**netrw操作**

```
- : 进入上一级目录
<CR> : 打开光标下的文件或目录
p : 预览文件(公标保持不变)
<C-w>z : 关闭预览窗口
d : 创建目录
D : 删除文件或目录
% : 在当前目录下创建文件并编辑
r : 翻转排列顺序
qb : 列出所有的目录以及历史路径
qf : 显示文件详细信息
R : 重命名文件或目录
s : 在name，time，file size之间切换排序
t : 在新的标签页打开文件
o : 以水平分割窗口的方式打开光标下的文件
v : 以垂直分割窗口的方式打开光标下的文件
a : 隐藏/显示由g:netrw_list_hide所控制的文件
gh : 隐藏/显示.开头的文件

```


